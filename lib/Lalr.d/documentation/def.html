<HTML><HEAD><LINK REL="StyleSheet" HREF="doc.css" TYPE="text/css"/><TITLE>A portable and efficient LALR(1) parser generator for Scheme / Defining a parser</TITLE></HEAD><BODY><DIV ID="header"><H1>A portable and efficient LALR(1) parser generator for Scheme</H1></DIV><DIV ID="menu"><h3>Content</h3><p><div><a href="index.html">Description</a></div><div><a href="distrib.html">Distribution</a></div><div><a href="port.html">Portability</a></div><div>&gt; Defining a parser &lt;</div><div><a href="format.html">Syntax</a></div></p></DIV><DIV ID="body"><h2>Defining a parser</h2><p>
The file <code>lalr.scm</code> declares a macro called <code>lalr-parser</code> :
<pre class="fragment">
   (lalr-parser [tokens] tokens rules ...)
</pre></p><p>
To use this macro, you must first load <code>lalr.scm</code> in your Scheme
system using either <code>load</code> or the <code>include</code>
special form in Gambit-C.
</p><p>
This macro, when given appropriate arguments, generates an LALR(1)
syntax analyzer.  The macro accepts at least two arguments. The first
is a list of symbols which represent the terminal symbols of the
grammar. The remaining arguments are the grammar production rules. See
section <a href="format.html">The grammar format</a> for further details.
</p><h2>Running the parser</h2><p>
The parser generated by the <code>lalr-parser</code> macro is a function that
takes two parameters. The first parameter is a lexical analyzer while
the second is an error procedure.
</p><p>
The lexical analyzer is zero-argument function (a thunk) invoked each
time the parser needs to look-ahead in the token stream.  A token is
usually a pair whose <code>car</code> is the symbol corresponding to
the token (the same symbol as used in the grammar definition). The
<code>cdr</code> of the pair is the semantic value associated with the
token. For example, a string token would have the <code>car</code> set
to <code>'string</code> while the <code>cdr</code> is set to the
string value <code>"hello"</code>.
</p><p>
Once the end of file is encountered, the lexical analyzer must always
return the symbol <code>'*eoi*</code> each time it is invoked.
</p><p>
The error procedure must be a function that accepts at least two
parameters.
</p></DIV><DIV ID="footer"><I>Dominique Boucher </I>(dominique DOT boucher AT nuecho DOT com)<BR/>Dernière modification: Mon Oct 25 11:22:29 EDT 2004</DIV></BODY></HTML>